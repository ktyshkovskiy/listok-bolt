import{u as r}from"./chunk-DFDIPJWM.js";import{Y as u,a as e,b as a,d as s,k as i}from"./chunk-XBE7PTZ2.js";var m=(()=>{let o=class o{constructor(){this.authState=new i({user:null,loading:!1,error:null}),this.authState$=this.authState.asObservable(),this.checkAuthState()}checkAuthState(){if(r.useMockData){let t={uid:"mock-user-123",email:"user@example.com",displayName:"Demo User",photoURL:"https://images.pexels.com/photos/220453/pexels-photo-220453.jpeg",providerId:"mock"};this.authState.next({user:t,loading:!1,error:null}),localStorage.setItem("authToken","mock-token-123")}else{let t=localStorage.getItem("authToken");t&&this.validateToken(t)}}validateToken(t){}signInWithGoogle(){return s(this,null,function*(){this.authState.next(a(e({},this.authState.value),{loading:!0,error:null}));try{if(r.useMockData){let t={uid:"google-user-123",email:"user@gmail.com",displayName:"Google User",photoURL:"https://images.pexels.com/photos/220453/pexels-photo-220453.jpeg",providerId:"google.com"};localStorage.setItem("authToken","google-token-123"),this.authState.next({user:t,loading:!1,error:null})}}catch(t){this.authState.next(a(e({},this.authState.value),{loading:!1,error:t.message}))}})}signInWithGitHub(){return s(this,null,function*(){this.authState.next(a(e({},this.authState.value),{loading:!0,error:null}));try{if(r.useMockData){let t={uid:"github-user-123",email:"user@github.com",displayName:"GitHub User",photoURL:"https://images.pexels.com/photos/614810/pexels-photo-614810.jpeg",providerId:"github.com"};localStorage.setItem("authToken","github-token-123"),this.authState.next({user:t,loading:!1,error:null})}}catch(t){this.authState.next(a(e({},this.authState.value),{loading:!1,error:t.message}))}})}signInWithApple(){return s(this,null,function*(){this.authState.next(a(e({},this.authState.value),{loading:!0,error:null}));try{if(r.useMockData){let t={uid:"apple-user-123",email:"user@icloud.com",displayName:"Apple User",photoURL:"https://images.pexels.com/photos/1043471/pexels-photo-1043471.jpeg",providerId:"apple.com"};localStorage.setItem("authToken","apple-token-123"),this.authState.next({user:t,loading:!1,error:null})}}catch(t){this.authState.next(a(e({},this.authState.value),{loading:!1,error:t.message}))}})}signOut(){return s(this,null,function*(){this.authState.next(a(e({},this.authState.value),{loading:!0}));try{localStorage.removeItem("authToken"),this.authState.next({user:null,loading:!1,error:null})}catch(t){this.authState.next(a(e({},this.authState.value),{loading:!1,error:t.message}))}})}getCurrentUser(){return this.authState.value.user}isAuthenticated(){return!!this.authState.value.user}};o.\u0275fac=function(h){return new(h||o)},o.\u0275prov=u({token:o,factory:o.\u0275fac,providedIn:"root"});let l=o;return l})();export{m as a};
